(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/account.bad2829d.svg"},19:function(e,t,a){e.exports=a(56)},25:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),c=a.n(r),o=(a(25),a(16)),l=a(12),i=a(13),u=a(17),d=a(14),m=a(18),_=a(1),p=(a(27),a(29),a(31),a(33),a(15)),h=a.n(p),g=(a(35),function(e){return s.a.createElement("div",{className:"DataPanel"},s.a.createElement("p",{className:"DataPanel__count"},e.count),s.a.createElement("p",{className:"DataPanel__name"},e.name))}),b=a(3),v=a.n(b),E=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={start_date:"",end_date:"",access_token:"",error:"",total_numbers:null,daily_numbers:null,paginated:!1,current_page:1,max_page:1},e.changeStart=e.changeStart.bind(Object(_.a)(Object(_.a)(e))),e.changeEnd=e.changeEnd.bind(Object(_.a)(Object(_.a)(e))),e.changeToken=e.changeToken.bind(Object(_.a)(Object(_.a)(e))),e.submitQuery=e.submitQuery.bind(Object(_.a)(Object(_.a)(e))),e.changePage=e.changePage.bind(Object(_.a)(Object(_.a)(e))),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"changeStart",value:function(e){this.setState({start_date:e.target.value}),localStorage.setItem("start_date",e.target.value)}},{key:"changeEnd",value:function(e){this.setState({end_date:e.target.value}),localStorage.setItem("end_date",e.target.value)}},{key:"changeToken",value:function(e){this.setState({access_token:e.target.value}),localStorage.setItem("access_token",e.target.value)}},{key:"submitQuery",value:function(e){var t=this;0===this.state.start_date.trim().length?this.setState({error:"Start date is required field"}):0===this.state.end_date.trim().length?this.setState({error:"End date is required field"}):0===this.state.access_token.trim().length?this.setState({error:"Access token is required field"}):(this.setState({error:""}),v.a.get("".concat("http://142.93.139.72","/reporting/v1/total/from-").concat(this.state.start_date,"/to-").concat(this.state.end_date,"/"),{headers:{"X-Gi-Token":this.state.access_token}}).then(function(e){t.setState({total_numbers:e.data}),v.a.get("".concat("http://142.93.139.72","/reporting/v1/daily/from-").concat(t.state.start_date,"/to-").concat(t.state.end_date,"/"),{headers:{"X-Gi-Token":t.state.access_token}}).then(function(e){t.setState({daily_numbers:e.data.by_date,paginated:e.data.paginated,current_page:1,max_page:e.data.max_page})}).catch(function(e){404===e.response.status?t.setState({error:"Invalid start- or end-date"}):e.response?t.setState({error:e.response.data}):e.request?t.setState({error:e.request}):t.setState({error:e.message})})}).catch(function(e){404===e.response.status?t.setState({error:"Invalid start- or end-date"}):e.response?t.setState({error:e.response.data}):e.request?t.setState({error:e.request}):t.setState({error:e.message})})),e.preventDefault()}},{key:"changePage",value:function(e){var t=this;v.a.get("".concat("http://142.93.139.72","/reporting/v1/daily/from-").concat(this.state.start_date,"/to-").concat(this.state.end_date,"/page-").concat(e),{headers:{"X-Gi-Token":this.state.access_token}}).then(function(e){t.setState({daily_numbers:e.data.by_date,paginated:e.data.paginated,current_page:e.data.current_page,max_page:e.data.max_page})}).catch(function(e){404===e.response.status?t.setState({error:"Invalid start- or end-date"}):e.response?t.setState({error:e.response.data}):e.request?t.setState({error:e.request}):t.setState({error:e.message})})}},{key:"componentDidMount",value:function(){this.setState({start_date:localStorage.getItem("start_date")||"",end_date:localStorage.getItem("end_date")||"",access_token:localStorage.getItem("access_token")||""})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App__header"},"Backend test UI"),s.a.createElement("form",{className:"App__controls",onSubmit:this.submitQuery},s.a.createElement("div",{className:"App__controls-options"},s.a.createElement("div",{className:"DateControl"},s.a.createElement("label",null,s.a.createElement("span",{className:"DateControl__label"},"Start date"),s.a.createElement("br",null),s.a.createElement("input",{className:"DateControl__input",type:"text",value:this.state.start_date,onChange:this.changeStart,placeholder:"YYYY-MM-DD"}))),s.a.createElement("div",{className:"DateControl"},s.a.createElement("label",null,s.a.createElement("span",{className:"DateControl__label"},"End date"),s.a.createElement("br",null),s.a.createElement("input",{className:"DateControl__input",type:"text",value:this.state.end_date,onChange:this.changeEnd,placeholder:"YYYY-MM-DD"})))),s.a.createElement("div",{className:"App__controls-auth"},s.a.createElement("div",{className:"MediaObject"},s.a.createElement("img",{className:"MediaObject__icon",src:h.a,alt:"AUTH"}),s.a.createElement("input",{className:"MediaObject__content",type:"text",value:this.state.access_token,onChange:this.changeToken,placeholder:"Access token"}))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("input",{className:"App__controls-submit-btn",type:"submit",value:"Query API"})),this.state.error?s.a.createElement("p",{className:"App__error"},this.state.error):"",this.state.total_numbers?s.a.createElement("div",{className:"App__total-numbers"},s.a.createElement(g,{name:"Total conversation count",count:this.state.total_numbers.total_conversation_count}),s.a.createElement(g,{name:"Total user message count",count:this.state.total_numbers.total_user_message_count}),s.a.createElement(g,{name:"Total visitor messages count",count:this.state.total_numbers.total_visitor_message_count})):"",this.state.daily_numbers?s.a.createElement("div",{className:"App__daily-numbers"},s.a.createElement("div",null,JSON.stringify(this.state.daily_numbers)),this.state.paginated?s.a.createElement("div",null,s.a.createElement("p",null,"Goto page"),Object(o.a)(Array(this.state.max_page+1).keys()).slice(1).map(function(t){return s.a.createElement("input",{className:"PagingBtn",key:t,type:"button",value:t,onClick:function(a){e.changePage(t),a.preventDefault()},disabled:t===e.state.current_page})})):s.a.createElement("p",null,'"Only 1 page of results"')):"")}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.a29e187c.chunk.js.map